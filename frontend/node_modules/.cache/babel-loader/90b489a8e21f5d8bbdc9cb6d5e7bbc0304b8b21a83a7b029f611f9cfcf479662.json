{"ast":null,"code":"import _slicedToArray from\"D:/D\\u1EF1 \\xC1n T\\u1ED1t Nghi\\u1EC7p/duantotnghiep_test/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"D:/D\\u1EF1 \\xC1n T\\u1ED1t Nghi\\u1EC7p/duantotnghiep_test/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/D\\u1EF1 \\xC1n T\\u1ED1t Nghi\\u1EC7p/duantotnghiep_test/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useContext,useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import OrderContext from\"../context/orders/orderContext\";import UserContext from\"../context/user/UserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProfileScreen=function ProfileScreen(){// for user context\nvar uContext=useContext(UserContext);var user=uContext.user,editProfile=uContext.editProfile;// for order context\nvar oContext=useContext(OrderContext);var myOrders=oContext.myOrders,getMyOrders=oContext.getMyOrders;useEffect(function(){getMyOrders();//eslint-disable-next-line\n},[]);var handleChange=function handleChange(e){setUserInfo(_objectSpread(_objectSpread({},userInfo),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();editProfile(userInfo.name,userInfo.email);};var _useState=useState({name:user.name,email:user.email}),_useState2=_slicedToArray(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var formatter=new Intl.NumberFormat(\"it-IT\",{style:\"currency\",currency:\"VND\"});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{id:\"actions\",className:\"py-4 mb-4 bg-light\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"btn btn-secondary btn-block\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left\"}),\" Tr\\u1EDF v\\u1EC1 trang ch\\u1EE7\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(Link,{to:\"/profile/updatepassword\",className:\"btn btn-success btn-block\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock\"}),\" \\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"button\",{disabled:true,className:\"btn btn-danger btn-block\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"}),\"X\\xF3a t\\xE0i kho\\u1EA3n\"]})})]})})}),/*#__PURE__*/_jsx(\"section\",{id:\"profile\",className:\"my-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Ch\\u1EC9nh s\\u1EEDa h\\u1ED3 s\\u01A1\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"T\\xEAn\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",onChange:handleChange,className:\"form-control\",value:userInfo.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",onChange:handleChange,value:userInfo.email})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{value:\"save changes\",type:\"submit\",className:\"btn btn-dark btn-block\"})})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3 my-3 ml-auto\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"H\\xECnh \\u0111\\u1EA1i di\\u1EC7n c\\u1EE7a b\\u1EA1n\"}),/*#__PURE__*/_jsx(\"img\",{src:\"img/avatar.png\",alt:\"\",className:\"d-block img-fluid mb-3\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-block\",children:\"S\\u1EEDa h\\xECnh \\u1EA3nh\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-block\",children:\"X\\xF3a h\\xECnh \\u1EA3nh\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0110\\u01A1n \\u0111\\u1EB7t h\\xE0ng\"})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\" Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"S\\u1ED1 l\\u01B0\\u1EE3ng s\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ti\\u1EC1n \\u0111\\u01A1n\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ng\\xE0y \\u0111\\u1EB7t h\\xE0ng\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:myOrders.length>0?myOrders.map(function(order){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsxs(\"td\",{children:[order.orderItems.length,\" item(s)\"]}),/*#__PURE__*/_jsx(\"td\",{children:formatter.format(order.totalPrice)}),/*#__PURE__*/_jsx(\"td\",{children:new Date(order.createdAt).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/myOrderDetails/\".concat(order._id),className:\"btn btn-secondary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-angle-double-right\"}),\" Chi ti\\u1EBFt\"]})})]},order._id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:4,children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-center\",children:[\"B\\u1EA1n ch\\u01B0a c\\xF3 \\u0111\\u01A1n h\\xE0ng n\\xE0o\",\" \"]})})})})]})]})})]})})})]});};export default ProfileScreen;","map":{"version":3,"names":["React","useContext","useEffect","useState","Link","OrderContext","UserContext","ProfileScreen","uContext","user","editProfile","oContext","myOrders","getMyOrders","handleChange","e","setUserInfo","userInfo","target","name","value","handleSubmit","preventDefault","email","formatter","Intl","NumberFormat","style","currency","length","map","order","_id","orderItems","format","totalPrice","Date","createdAt","toLocaleDateString"],"sources":["D:/Dự Án Tốt Nghiệp/duantotnghiep_test/frontend/src/Pages/ProfileScreen.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport OrderContext from \"../context/orders/orderContext\";\r\nimport UserContext from \"../context/user/UserContext\";\r\n\r\nconst ProfileScreen = () => {\r\n  // for user context\r\n  const uContext = useContext(UserContext);\r\n  const { user, editProfile } = uContext;\r\n  // for order context\r\n  const oContext = useContext(OrderContext);\r\n  const { myOrders, getMyOrders } = oContext;\r\n\r\n  useEffect(() => {\r\n    getMyOrders();\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setUserInfo({ ...userInfo, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    editProfile(userInfo.name, userInfo.email);\r\n  };\r\n\r\n  const [userInfo, setUserInfo] = useState({\r\n    name: user.name,\r\n    email: user.email,\r\n  });\r\n  const formatter = new Intl.NumberFormat(\"it-IT\", {\r\n    style: \"currency\",\r\n    currency: \"VND\",\r\n  });\r\n  return (\r\n    <>\r\n      {/* ACTIONS */ }\r\n      <section id=\"actions\" className=\"py-4 mb-4 bg-light\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-4\">\r\n              <Link to=\"/\" className=\"btn btn-secondary btn-block\">\r\n                <i className=\"fas fa-arrow-left\" /> Trở về trang chủ\r\n              </Link>\r\n            </div>\r\n            <div className=\"col-md-4\">\r\n              <Link to=\"/profile/updatepassword\" className=\"btn btn-success btn-block\">\r\n                <i className=\"fas fa-lock\" /> Đổi mật khẩu\r\n              </Link>\r\n            </div>\r\n            <div className=\"col-md-4\">\r\n              <button disabled className=\"btn btn-danger btn-block\">\r\n                <i className=\"fas fa-trash\" />\r\n                Xóa tài khoản\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      {/* PROFILE */ }\r\n      <section id=\"profile\" className=\"my-5\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-8\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                  <h4>Chỉnh sửa hồ sơ</h4>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <form onSubmit={ handleSubmit }>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"name\">Tên</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        onChange={ handleChange }\r\n                        className=\"form-control\"\r\n                        value={ userInfo.name }\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"email\">Email</label>\r\n                      <input\r\n                        type=\"email\"\r\n                        className=\"form-control\"\r\n                        name=\"email\"\r\n                        onChange={ handleChange }\r\n                        value={ userInfo.email }\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <input\r\n                        value=\"save changes\"\r\n                        type=\"submit\"\r\n                        className=\"btn btn-dark btn-block\"\r\n                      />\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-3 my-3 ml-auto\">\r\n              <h3>Hình đại diện của bạn</h3>\r\n              <img\r\n                src=\"img/avatar.png\"\r\n                alt=\"\"\r\n                className=\"d-block img-fluid mb-3\"\r\n              />\r\n              <button className=\"btn btn-primary btn-block\">Sửa hình ảnh</button>\r\n              <button className=\"btn btn-danger btn-block\">Xóa hình ảnh</button>\r\n            </div>\r\n            <div className=\"col-md-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                  <h4>Đơn đặt hàng</h4>\r\n                </div>\r\n                <table className=\"table table-striped\">\r\n                  <thead className=\"thead-dark\">\r\n                    <tr>\r\n                      <th> Id</th>\r\n                      <th>Số lượng sản phẩm</th>\r\n                      <th>Tiền đơn</th>\r\n                      <th>Ngày đặt hàng</th>\r\n                      <th />\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    { myOrders.length > 0 ? (\r\n                      myOrders.map((order) => (\r\n                        <tr key={ order._id }>\r\n                          <td>{ order._id }</td>\r\n                          <td>{ order.orderItems.length } item(s)</td>\r\n                          <td>{ formatter.format(order.totalPrice) }</td>\r\n                          <td>\r\n                            { new Date(order.createdAt).toLocaleDateString() }\r\n                          </td>\r\n                          <td>\r\n                            <Link\r\n                              to={ `/myOrderDetails/${order._id}` }\r\n                              className=\"btn btn-secondary\"\r\n                            >\r\n                              <i className=\"fas fa-angle-double-right\" /> Chi\r\n                              tiết\r\n                            </Link>\r\n                          </td>\r\n                        </tr>\r\n                      ))\r\n                    ) : (\r\n                      <tr>\r\n                        <td colSpan={ 4 }>\r\n                          <h3 className=\"text-center\">\r\n                            Bạn chưa có đơn hàng nào{ \" \" }\r\n                          </h3>\r\n                        </td>\r\n                      </tr>\r\n                    ) }\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfileScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}