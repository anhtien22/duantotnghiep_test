{"ast":null,"code":"var _jsxFileName = \"D:\\\\D\\u1EF1 \\xC1n T\\u1ED1t Nghi\\u1EC7p\\\\duantotnghiep_test\\\\frontend\\\\src\\\\Pages\\\\Checkout.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from \"react\";\nimport Breadcrumb from \"../components/Breadcrumb\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useCart } from \"react-use-cart\";\nimport OrderContext from \"../context/orders/orderContext\";\nimport axios from \"axios\";\nimport { PayPalButton } from \"react-paypal-button-v2\";\nimport Loader from \"../components/Loader\";\nimport UserContext from \"../context/user/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Checkout = () => {\n  _s();\n  const navigate = useNavigate();\n  const uContext = useContext(UserContext);\n  const {\n    user\n  } = uContext;\n  const [shippingAddress, setShippingAddress] = useState({\n    name: user.name,\n    phone: \"\",\n    address: \"\",\n    city: \"\",\n    postalCode: \"\",\n    country: \"\"\n  });\n  const [orderItems, setOrderItems] = useState([]);\n  const [paymentMethod, setPaymentMethod] = useState(\"\");\n\n  // const [paymentResult, setPaymentResult] = useState({})\n\n  const [sdkReady, setSdkReady] = useState(false);\n\n  // for order context\n  const oContext = useContext(OrderContext);\n  const {\n    placeOrder\n  } = oContext;\n  // user context\n\n  const handleChange = e => {\n    setShippingAddress({\n      ...shippingAddress,\n      [e.target.name]: e.target.value\n    });\n  };\n  const {\n    isEmpty,\n    // totalItems,\n    // totalUniqueItems,\n    cartTotal,\n    items\n  } = useCart();\n  useEffect(() => {\n    if (isEmpty) {\n      navigate(\"/shop\");\n    }\n    const newArr = items.map(_ref => {\n      let {\n        category,\n        createdAt,\n        id,\n        updatedAt,\n        __v,\n        _id,\n        sku,\n        ...keep\n      } = _ref;\n      return {\n        ...keep,\n        product: _id\n      };\n    });\n    setOrderItems(newArr);\n    // eslint-disable-next-line\n  }, []);\n\n  // for paypal payment method\n  useEffect(() => {\n    const addPaypalScript = async () => {\n      const {\n        data: clientId\n      } = await axios.get(\"/api/config/paypal\");\n      const script = document.createElement(\"script\");\n      script.type = \"text/javascript\";\n      script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`;\n      script.async = true;\n      script.onload = () => {\n        setSdkReady(true);\n      };\n      document.body.appendChild(script);\n    };\n    if (paymentMethod === \"paypal\") {\n      // addPaypalScript()\n      if (!window.paypal) {\n        addPaypalScript();\n      } else {\n        setSdkReady(true);\n      }\n    }\n    // addPaypalScript()\n  }, [paymentMethod]);\n  const handlePlaceOrder = () => {\n    placeOrder(orderItems, shippingAddress, paymentMethod, cartTotal);\n  };\n  const formatter = new Intl.NumberFormat(\"it-IT\", {\n    style: \"currency\",\n    currency: \"VND\"\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n      pageName: \"Checkout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"site-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 mb-5 mb-md-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"h3 mb-3 text-black\",\n              children: \"Chi ti\\u1EBFt thanh to\\xE1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-3 p-lg-5 border\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"c_country\",\n                  className: \"text-black\",\n                  children: [\"T\\xEAn \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-danger\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"name\",\n                  value: shippingAddress.name,\n                  onChange: handleChange\n                  // defaultValue={ shippingAddress.name }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"c_country\",\n                  className: \"text-black\",\n                  children: [\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-danger\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 35\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"form-control\",\n                  name: \"phone\",\n                  value: shippingAddress.phone,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"c_address\",\n                    className: \"text-black\",\n                    children: [\"\\u0110\\u1ECBa ch\\u1EC9 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-danger\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 134,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: \"form-control\",\n                    id: \"c_address\",\n                    name: \"address\",\n                    cols: 30,\n                    rows: 5,\n                    value: shippingAddress.address,\n                    onChange: handleChange,\n                    placeholder: \"Street address\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"c_country\",\n                  className: \"text-black\",\n                  children: [\"Th\\xE0nh Ph\\u1ED1 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-danger\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"city\",\n                  value: shippingAddress.city,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"c_country\",\n                  className: \"text-black\",\n                  children: [\"Huy\\u1EC7n/Ph\\u01B0\\u1EDDng \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-danger\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 34\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"country\",\n                  value: shippingAddress.country,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"c_country\",\n                  className: \"text-black\",\n                  children: [\"M\\xE3 b\\u01B0u \\u0111i\\u1EC7n \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-danger\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"form-control\",\n                  name: \"postalCode\",\n                  value: shippingAddress.postalCode,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row mb-5\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"h3 mb-3 text-black\",\n                  children: \"\\u0110\\u01A1n h\\xE0ng c\\u1EE7a b\\u1EA1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-3 p-lg-5 border\",\n                  children: [/*#__PURE__*/_jsxDEV(\"table\", {\n                    className: \"table site-block-order-table mb-5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"S\\u1EA3n Ph\\u1EA9m\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 197,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Gi\\xE1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 198,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 196,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: [items.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [item.name, \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            className: \"mx-2\",\n                            children: \"x\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 205,\n                            columnNumber: 45\n                          }, this), \" \", item.quantity]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 204,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: formatter.format(item.itemTotal)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 208,\n                          columnNumber: 29\n                        }, this)]\n                      }, item._id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 203,\n                        columnNumber: 27\n                      }, this)), /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-black font-weight-bold\",\n                          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"T\\u1ED5ng :\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 213,\n                            columnNumber: 29\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 212,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-black\",\n                          children: formatter.format(cartTotal)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 215,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 211,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-black font-weight-bold\",\n                          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Order Total\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 220,\n                            columnNumber: 29\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 219,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-black font-weight-bold\",\n                          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: formatter.format(cartTotal)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 223,\n                            columnNumber: 29\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 222,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 218,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group my-5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"text-black\",\n                      children: [\"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-danger\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 231,\n                        columnNumber: 48\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 230,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      className: \"form-control\",\n                      name: \"paymentMethod\",\n                      onChange: e => setPaymentMethod(e.target.value),\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: \"L\\u1EF1a ch\\u1ECDn\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 238,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"cod\",\n                        children: \"Thanh to\\xE1n khi nh\\u1EADn h\\xE0ng\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 239,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"paypal\",\n                        children: \"Paypal\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 240,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: paymentMethod === \"paypal\" ? !sdkReady ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(PayPalButton, {\n                      currency: \"USD\",\n                      amount: cartTotal\n                      // onSuccess={handlePlaceOrder}\n                      ,\n                      onSuccess: async (details, data) => {\n                        // alert(\n                        //   'Transaction completed by ' +\n                        //     details.payer.name.given_name\n                        // )\n                        console.log(details, \"details\");\n                        console.log(data, \"data\");\n\n                        // setPaymentResult()\n                        // console.log(paymentResult, 'paymentResult')\n\n                        await placeOrder(orderItems, shippingAddress, paymentMethod, cartTotal, {\n                          id: details.id,\n                          status: details.status,\n                          update_time: details.update_time,\n                          email_address: details.payer.email_address\n                        });\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-primary btn-lg py-3 btn-block\",\n                      onClick: handlePlaceOrder,\n                      children: \"Ti\\u1EBFn h\\xE0nh \\u0111\\u1EB7t h\\xE0ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Checkout, \"VuxmT1h5sTvLzyAFmFhGEjeXWAc=\", false, function () {\n  return [useNavigate, useCart];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Breadcrumb","useNavigate","useCart","OrderContext","axios","PayPalButton","Loader","UserContext","Checkout","navigate","uContext","user","shippingAddress","setShippingAddress","name","phone","address","city","postalCode","country","orderItems","setOrderItems","paymentMethod","setPaymentMethod","sdkReady","setSdkReady","oContext","placeOrder","handleChange","e","target","value","isEmpty","cartTotal","items","newArr","map","category","createdAt","id","updatedAt","__v","_id","sku","keep","product","addPaypalScript","data","clientId","get","script","document","createElement","type","src","async","onload","body","appendChild","window","paypal","handlePlaceOrder","formatter","Intl","NumberFormat","style","currency","item","quantity","format","itemTotal","details","console","log","status","update_time","email_address","payer"],"sources":["D:/Dự Án Tốt Nghiệp/duantotnghiep_test/frontend/src/Pages/Checkout.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport Breadcrumb from \"../components/Breadcrumb\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useCart } from \"react-use-cart\";\r\nimport OrderContext from \"../context/orders/orderContext\";\r\nimport axios from \"axios\";\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\nimport Loader from \"../components/Loader\";\r\nimport UserContext from \"../context/user/UserContext\";\r\n\r\nconst Checkout = () => {\r\n  const navigate = useNavigate();\r\n  const uContext = useContext(UserContext);\r\n  const { user } = uContext;\r\n  const [shippingAddress, setShippingAddress] = useState({\r\n    name: user.name,\r\n    phone: \"\",\r\n    address: \"\",\r\n    city: \"\",\r\n    postalCode: \"\",\r\n    country: \"\",\r\n  });\r\n\r\n  const [orderItems, setOrderItems] = useState([]);\r\n\r\n  const [paymentMethod, setPaymentMethod] = useState(\"\");\r\n\r\n  // const [paymentResult, setPaymentResult] = useState({})\r\n\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n\r\n  // for order context\r\n  const oContext = useContext(OrderContext);\r\n  const { placeOrder } = oContext;\r\n  // user context\r\n\r\n\r\n  const handleChange = (e) => {\r\n    setShippingAddress({ ...shippingAddress, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const {\r\n    isEmpty,\r\n    // totalItems,\r\n    // totalUniqueItems,\r\n    cartTotal,\r\n    items,\r\n  } = useCart();\r\n\r\n  useEffect(() => {\r\n    if (isEmpty) {\r\n      navigate(\"/shop\");\r\n    }\r\n    const newArr = items.map(\r\n      ({ category, createdAt, id, updatedAt, __v, _id, sku, ...keep }) => ({\r\n        ...keep,\r\n        product: _id,\r\n      })\r\n    );\r\n    setOrderItems(newArr);\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  // for paypal payment method\r\n  useEffect(() => {\r\n    const addPaypalScript = async () => {\r\n      const { data: clientId } = await axios.get(\"/api/config/paypal\");\r\n      const script = document.createElement(\"script\");\r\n      script.type = \"text/javascript\";\r\n      script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`;\r\n      script.async = true;\r\n      script.onload = () => {\r\n        setSdkReady(true);\r\n      };\r\n      document.body.appendChild(script);\r\n    };\r\n    if (paymentMethod === \"paypal\") {\r\n      // addPaypalScript()\r\n      if (!window.paypal) {\r\n        addPaypalScript();\r\n      } else {\r\n        setSdkReady(true);\r\n      }\r\n    }\r\n    // addPaypalScript()\r\n  }, [paymentMethod]);\r\n\r\n  const handlePlaceOrder = () => {\r\n    placeOrder(orderItems, shippingAddress, paymentMethod, cartTotal);\r\n  };\r\n  const formatter = new Intl.NumberFormat(\"it-IT\", {\r\n    style: \"currency\",\r\n    currency: \"VND\",\r\n  });\r\n  return (\r\n    <>\r\n      <Breadcrumb pageName=\"Checkout\" />\r\n      <div className=\"site-section\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6 mb-5 mb-md-0\">\r\n              <h2 className=\"h3 mb-3 text-black\">Chi tiết thanh toán</h2>\r\n              <div className=\"p-3 p-lg-5 border\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"c_country\" className=\"text-black\">\r\n                    Tên <span className=\"text-danger\">*</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"name\"\r\n                    value={ shippingAddress.name }\r\n                    onChange={ handleChange }\r\n                  // defaultValue={ shippingAddress.name }\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"c_country\" className=\"text-black\">\r\n                    Số điện thoại <span className=\"text-danger\">*</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    name=\"phone\"\r\n                    value={ shippingAddress.phone }\r\n                    onChange={ handleChange }\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group row\">\r\n                  <div className=\"col-md-12\">\r\n                    <label htmlFor=\"c_address\" className=\"text-black\">\r\n                      Địa chỉ <span className=\"text-danger\">*</span>\r\n                    </label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      id=\"c_address\"\r\n                      name=\"address\"\r\n                      cols={ 30 }\r\n                      rows={ 5 }\r\n                      value={ shippingAddress.address }\r\n                      onChange={ handleChange }\r\n                      placeholder=\"Street address\"\r\n                    ></textarea>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"c_country\" className=\"text-black\">\r\n                    Thành Phố <span className=\"text-danger\">*</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"city\"\r\n                    value={ shippingAddress.city }\r\n                    onChange={ handleChange }\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"c_country\" className=\"text-black\">\r\n                    Huyện/Phường <span className=\"text-danger\">*</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"country\"\r\n                    value={ shippingAddress.country }\r\n                    onChange={ handleChange }\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"c_country\" className=\"text-black\">\r\n                    Mã bưu điện <span className=\"text-danger\">*</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    name=\"postalCode\"\r\n                    value={ shippingAddress.postalCode }\r\n                    onChange={ handleChange }\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <h2 className=\"h3 mb-3 text-black\">Đơn hàng của bạn</h2>\r\n                  <div className=\"p-3 p-lg-5 border\">\r\n                    <table className=\"table site-block-order-table mb-5\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th>Sản Phẩm</th>\r\n                          <th>Giá</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        { items.map((item) => (\r\n                          <tr key={ item._id }>\r\n                            <td>\r\n                              { item.name } <strong className=\"mx-2\">x</strong>{ \" \" }\r\n                              { item.quantity }\r\n                            </td>\r\n                            <td>{ formatter.format(item.itemTotal) }</td>\r\n                          </tr>\r\n                        )) }\r\n                        <tr>\r\n                          <td className=\"text-black font-weight-bold\">\r\n                            <strong>Tổng :</strong>\r\n                          </td>\r\n                          <td className=\"text-black\">{ formatter.format(cartTotal) }</td>\r\n\r\n                        </tr>\r\n                        <tr>\r\n                          <td className=\"text-black font-weight-bold\">\r\n                            <strong>Order Total</strong>\r\n                          </td>\r\n                          <td className=\"text-black font-weight-bold\">\r\n                            <strong>{ formatter.format(cartTotal) }</strong>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n\r\n                    <div className=\"form-group my-5\">\r\n                      <label className=\"text-black\">\r\n                        Phương thức thanh toán <span className=\"text-danger\">*</span>\r\n                      </label>\r\n                      <select\r\n                        className=\"form-control\"\r\n                        name=\"paymentMethod\"\r\n                        onChange={ (e) => setPaymentMethod(e.target.value) }\r\n                      >\r\n                        <option value=\"\">Lựa chọn</option>\r\n                        <option value=\"cod\">Thanh toán khi nhận hàng</option>\r\n                        <option value=\"paypal\">Paypal</option>\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      { paymentMethod === \"paypal\" ? (\r\n                        !sdkReady ? (\r\n                          <Loader />\r\n                        ) : (\r\n                          <PayPalButton\r\n                            currency=\"USD\"\r\n                            amount={ cartTotal }\r\n                            // onSuccess={handlePlaceOrder}\r\n                            onSuccess={ async (details, data) => {\r\n                              // alert(\r\n                              //   'Transaction completed by ' +\r\n                              //     details.payer.name.given_name\r\n                              // )\r\n                              console.log(details, \"details\");\r\n                              console.log(data, \"data\");\r\n\r\n                              // setPaymentResult()\r\n                              // console.log(paymentResult, 'paymentResult')\r\n\r\n                              await placeOrder(\r\n                                orderItems,\r\n                                shippingAddress,\r\n                                paymentMethod,\r\n                                cartTotal,\r\n                                {\r\n                                  id: details.id,\r\n                                  status: details.status,\r\n                                  update_time: details.update_time,\r\n                                  email_address: details.payer.email_address,\r\n                                }\r\n                              );\r\n                            } }\r\n                          />\r\n                        )\r\n                      ) : (\r\n                        <button\r\n                          className=\"btn btn-primary btn-lg py-3 btn-block\"\r\n                          onClick={ handlePlaceOrder }\r\n                        >\r\n                          Tiến hành đặt hàng\r\n                        </button>\r\n                      ) }\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* </form> */ }\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}