{"ast":null,"code":"var _jsxFileName = \"D:\\\\D\\u1EF1 \\xC1n T\\u1ED1t Nghi\\u1EC7p\\\\duantotnghiep_test\\\\frontend\\\\src\\\\AdminScreens\\\\AdminDashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from 'react';\nimport Navbar from '../AdminComponents/Navbar';\nimport AddProductModal from '../AdminComponents/AddProductModal';\nimport AddCategoryModal from '../AdminComponents/AddCategoryModal';\nimport { Link } from 'react-router-dom';\nimport productContext from '../context/product/productContext';\nimport categoryContext from '../context/category/categoryContext';\nimport userContext from '../context/user/UserContext';\nimport OrderContext from '../context/orders/orderContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminDashboard = () => {\n  _s();\n\n  // for product context\n  const cContext = useContext(categoryContext);\n  const pContext = useContext(productContext);\n  const uContext = useContext(userContext);\n  const oContext = useContext(OrderContext);\n  const {\n    getProducts,\n    products\n  } = pContext;\n  const {\n    getCategories,\n    categories\n  } = cContext;\n  const {\n    getAllUsers,\n    allUsers\n  } = uContext;\n  const {\n    getAllOrders,\n    orders\n  } = oContext;\n  const resulf = orders.reduce((r, index) => {\n    if (index.paymentResult.status === \"Successfully\") {\n      if (index.orderItems.length) {\n        const total = index.orderItems.reduce((count, item) => {\n          return count += item.price * item.quantity;\n        }, 0);\n        return r += total;\n      }\n    }\n\n    return r;\n  }, 0); // const limit = 5\n\n  const skip = 0;\n  const limit = 5; // const [skip, setSkip] = useState(0)\n  // const [keyWord, setKeyWord] = useState('')\n  // const [category, setCategory] = useState('')\n  // const [totalResults, setTotalResults] = useState(0)\n\n  const formatter = new Intl.NumberFormat(\"it-IT\", {\n    style: \"currency\",\n    currency: \"VND\"\n  });\n  useEffect(() => {\n    getProducts(skip, '', ''); // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    getCategories(skip, '', ''); // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    getAllUsers(skip, '', ''); // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    getAllOrders(skip, '', ''); // eslint-disable-next-line\n\n    getProducts(limit, skip, \"\", \"\"); // eslint-disable-next-line\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        id: \"main-header\",\n        className: \"py-2 bg-primary text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6\",\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-cog\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 19\n                }, this), \"Admin Dashboard\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"actions\",\n        className: \"py-4 mb-4 bg-light\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-4\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/\",\n                className: \"btn btn-primary btn-block\",\n                \"data-toggle\": \"modal\",\n                \"data-target\": \"#addProductModal\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 19\n                }, this), \" Th\\xEAm s\\u1EA3n ph\\u1EA9m\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-4\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/\",\n                className: \"btn btn-success btn-block\",\n                \"data-toggle\": \"modal\",\n                \"data-target\": \"#addCategoryModal\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 19\n                }, this), \" Th\\xEAm danh m\\u1EE5c\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-4\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/users\",\n                className: \"btn btn-warning btn-block\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 19\n                }, this), \" Qu\\u1EA3n l\\xFD ng\\u01B0\\u1EDDi d\\xF9ng\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"posts\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-9\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-header\",\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"S\\u1EA3n ph\\u1EA9m m\\u1EDBi nh\\u1EA5t\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"table table-striped\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    className: \"thead-dark\",\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"#\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 126,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"T\\xEAn\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 127,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Gi\\xE1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 128,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Ng\\xE0y\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 129,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 130,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: products.map((product, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: i + 1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 136,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: product.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 137,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: formatter.format(product.price)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 138,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: new Date(product.createdAt).toLocaleDateString()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 139,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(Link, {\n                          to: `/productDetailsAdmin/${product._id}`,\n                          className: \"btn btn-secondary bg-primary text-white\",\n                          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fas fa-angle-double-right\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 147,\n                            columnNumber: 31\n                          }, this), \" \", \"Chi ti\\u1EBFt\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 143,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 142,\n                        columnNumber: 27\n                      }, this)]\n                    }, product._id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center my-3\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/products\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-info\",\n                      children: \"Xem t\\u1EA5t c\\u1EA3 s\\u1EA3n ph\\u1EA9m\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 157,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card text-center bg-primary text-white mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"S\\u1EA3n ph\\u1EA9m\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"display-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-pencil-alt\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 167,\n                      columnNumber: 23\n                    }, this), \" \", products.length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/products\",\n                    className: \"btn btn-outline-light btn-sm\",\n                    children: \"Xem\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card text-center bg-success text-white mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"Danh m\\u1EE5c\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"display-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-folder\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 23\n                    }, this), \" \", categories.length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/categories\",\n                    className: \"btn btn-outline-light btn-sm\",\n                    children: \"Xem\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card text-center bg-warning text-white mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"T\\xE0i kho\\u1EA3n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"display-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-users\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 23\n                    }, this), \" \", allUsers.length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/users\",\n                    className: \"btn btn-outline-light btn-sm\",\n                    children: \"Xem\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card text-center bg-warning text-white mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"Doanh Thu\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"display-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-users\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 23\n                    }, this), \" \", formatter.format(resulf)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/orders\",\n                    className: \"btn btn-outline-light btn-sm\",\n                    children: \"Xem\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(AddProductModal, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddCategoryModal, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AdminDashboard, \"OFOpjEwOlObPWCY1Jxh7pOgoDYw=\");\n\n_c = AdminDashboard;\nexport default AdminDashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"sources":["D:/Dự Án Tốt Nghiệp/duantotnghiep_test/frontend/src/AdminScreens/AdminDashboard.js"],"names":["React","useContext","useEffect","Navbar","AddProductModal","AddCategoryModal","Link","productContext","categoryContext","userContext","OrderContext","AdminDashboard","cContext","pContext","uContext","oContext","getProducts","products","getCategories","categories","getAllUsers","allUsers","getAllOrders","orders","resulf","reduce","r","index","paymentResult","status","orderItems","length","total","count","item","price","quantity","skip","limit","formatter","Intl","NumberFormat","style","currency","map","product","i","name","format","Date","createdAt","toLocaleDateString","_id"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react'\r\nimport Navbar from '../AdminComponents/Navbar'\r\nimport AddProductModal from '../AdminComponents/AddProductModal'\r\nimport AddCategoryModal from '../AdminComponents/AddCategoryModal'\r\nimport { Link } from 'react-router-dom'\r\nimport productContext from '../context/product/productContext'\r\nimport categoryContext from '../context/category/categoryContext'\r\nimport userContext from '../context/user/UserContext'\r\nimport OrderContext from '../context/orders/orderContext'\r\n\r\n\r\nconst AdminDashboard = () => {\r\n  // for product context\r\n  const cContext = useContext(categoryContext)\r\n  const pContext = useContext(productContext)\r\n  const uContext = useContext(userContext)\r\n  const oContext = useContext(OrderContext)\r\n  const { getProducts, products } = pContext\r\n  const { getCategories, categories } = cContext\r\n  const { getAllUsers, allUsers } = uContext\r\n  const { getAllOrders, orders } = oContext\r\n  const resulf = orders.reduce((r, index) => {\r\n    if (index.paymentResult.status === \"Successfully\") {\r\n      if (index.orderItems.length) {\r\n        const total = index.orderItems.reduce((count, item) => {\r\n          return (count += item.price * item.quantity);\r\n        }, 0);\r\n\r\n        return (r += total);\r\n      }\r\n    }\r\n    return r;\r\n  }, 0);\r\n  // const limit = 5\r\n  const skip = 0\r\n\r\n  const limit = 5;\r\n  // const [skip, setSkip] = useState(0)\r\n  // const [keyWord, setKeyWord] = useState('')\r\n  // const [category, setCategory] = useState('')\r\n  // const [totalResults, setTotalResults] = useState(0)\r\n  const formatter = new Intl.NumberFormat(\"it-IT\", {\r\n    style: \"currency\",\r\n    currency: \"VND\",\r\n  });\r\n  useEffect(() => {\r\n    getProducts(skip, '', '')\r\n    // eslint-disable-next-line\r\n  }, [])\r\n  useEffect(() => {\r\n    getCategories(skip, '', '')\r\n    // eslint-disable-next-line\r\n  }, [])\r\n  useEffect(() => {\r\n    getAllUsers(skip, '', '')\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  useEffect(() => {\r\n    getAllOrders(skip, '', '')\r\n    // eslint-disable-next-line\r\n    getProducts(limit, skip, \"\", \"\");\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <div>\r\n        {/* HEADER */ }\r\n        <header id=\"main-header\" className=\"py-2 bg-primary text-white\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">\r\n                <h1>\r\n                  <i className=\"fas fa-cog\" />\r\n                  Admin Dashboard\r\n                </h1>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n        {/* ACTIONS */ }\r\n        <section id=\"actions\" className=\"py-4 mb-4 bg-light\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-4\">\r\n                <a\r\n                  href=\"/\"\r\n                  className=\"btn btn-primary btn-block\"\r\n                  data-toggle=\"modal\"\r\n                  data-target=\"#addProductModal\">\r\n                  <i className=\"fas fa-plus\" /> Thêm sản phẩm\r\n                </a>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <a\r\n                  href=\"/\"\r\n                  className=\"btn btn-success btn-block\"\r\n                  data-toggle=\"modal\"\r\n                  data-target=\"#addCategoryModal\">\r\n                  <i className=\"fas fa-plus\" /> Thêm danh mục\r\n                </a>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <Link to=\"/users\" className=\"btn btn-warning btn-block\">\r\n                  <i className=\"fas fa-plus\" /> Quản lý người dùng\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        {/* POSTS */ }\r\n        <section id=\"posts\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-9\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header\">\r\n                    <h4>Sản phẩm mới nhất</h4>\r\n                  </div>\r\n                  <table className=\"table table-striped\">\r\n                    <thead className=\"thead-dark\">\r\n                      <tr>\r\n                        <th>#</th>\r\n                        <th>Tên</th>\r\n                        <th>Giá</th>\r\n                        <th>Ngày</th>\r\n                        <th />\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      { products.map((product, i) => (\r\n                        <tr key={ product._id }>\r\n                          <td>{ i + 1 }</td>\r\n                          <td>{ product.name }</td>\r\n                          <td>{ formatter.format(product.price) }</td>\r\n                          <td>\r\n                            { new Date(product.createdAt).toLocaleDateString() }\r\n                          </td>\r\n                          <td>\r\n                            <Link\r\n                              to={ `/productDetailsAdmin/${product._id}` }\r\n                              className=\"btn btn-secondary bg-primary text-white\"\r\n                            >\r\n                              <i className=\"fas fa-angle-double-right\" />{ \" \" }\r\n                              Chi tiết\r\n                            </Link>\r\n                          </td>\r\n                        </tr>\r\n                      )) }\r\n                    </tbody>\r\n                  </table>\r\n                  <div className=\"text-center my-3\">\r\n                    <Link to=\"/products\">\r\n                      <button className=\"btn btn-info\">Xem tất cả sản phẩm</button>\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"card text-center bg-primary text-white mb-3\">\r\n                  <div className=\"card-body\">\r\n                    <h3>Sản phẩm</h3>\r\n                    <h4 className=\"display-4\">\r\n                      <i className=\"fas fa-pencil-alt\" /> { products.length }\r\n                    </h4>\r\n                    <Link\r\n                      to=\"/products\"\r\n                      className=\"btn btn-outline-light btn-sm\">\r\n                      Xem\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n                <div className=\"card text-center bg-success text-white mb-3\">\r\n                  <div className=\"card-body\">\r\n                    <h3>Danh mục</h3>\r\n                    <h4 className=\"display-4\">\r\n                      <i className=\"fas fa-folder\" /> { categories.length }\r\n                    </h4>\r\n                    <Link\r\n                      to=\"/categories\"\r\n                      className=\"btn btn-outline-light btn-sm\">\r\n                      Xem\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n                <div className=\"card text-center bg-warning text-white mb-3\">\r\n                  <div className=\"card-body\">\r\n                    <h3>Tài khoản</h3>\r\n                    <h4 className=\"display-4\">\r\n                      <i className=\"fas fa-users\" /> { allUsers.length }\r\n                    </h4>\r\n                    <Link to=\"/users\" className=\"btn btn-outline-light btn-sm\">\r\n                      Xem\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n                <div className=\"card text-center bg-warning text-white mb-3\">\r\n                  <div className=\"card-body\">\r\n                    <h3>Doanh Thu</h3>\r\n                    <p className=\"display-4\">\r\n                      <i className=\"fas fa-users\" /> { formatter.format(resulf) }\r\n                    </p>\r\n                    <Link to=\"/orders\" className=\"btn btn-outline-light btn-sm\">\r\n                      Xem\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n                {/* <div className=\"card text-center bg-warning text-white mb-3\">\r\n                  <div className=\"card-body\">\r\n                    <h3>Đơn hàng</h3>\r\n                    <h4 className=\"display-4\">\r\n                      <i className=\"fas fa-users\" />\r\n                      {oContext.orders?.length}\r\n                    </h4>\r\n                    <Link to=\"/orders\" className=\"btn btn-outline-light btn-sm\">\r\n                      View\r\n                    </Link>\r\n                  </div>\r\n                </div> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n\r\n      {/* <Footer /> */ }\r\n\r\n      <div>\r\n        <AddProductModal />\r\n\r\n        <AddCategoryModal />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"]},"metadata":{},"sourceType":"module"}